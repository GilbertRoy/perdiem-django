{% load staticfiles %}
{% load humanize %}
{% load perdiem %}

    <div class="leaderboard">
        <h2>Artists</h2>
        <h4>Top earnings and investments</h4>
        <div class="break">
            <hr>
        </div>
        <canvas id="myChart"></canvas>
        <h2>Investors</h2>
        <h4>Top earners and investments</h4>
        <div class="break">
            <hr>
        </div>
        <canvas id="myChart2"></canvas>
    </div>

{% block extrajs %}
    <script type="text/javascript" src="{% static "js/vendor/Chart.min.js" %}"></script>

    <script>
        var ctx = document.getElementById("myChart").getContext('2d');
        var myChart = new Chart(ctx, {
          type: 'bar',
          data: {
            labels: [{% if leaders %}{% for leader_context in leaders %}"{{ leader_context.name }}"{% endfor %}{% endif %}],
            datasets: [{
              label: 'Amount Raised',
              data: [{% if leaders %}{% for leader_context in leaders %}{{ leader_context.amount|notrail_floatformat:2|intcomma }}, {% endfor %}{% endif %}]
          }, {
            label: 'Amount Earned',
            data: [{% if leaders %}{% for leader_context in leaders %}{{ leader_context.amount|notrail_floatformat:2|intcomma }}, {% endfor %}{% endif %}]
          }]
          }
        });
        var ctx = document.getElementById("myChart2").getContext('2d');
        var myChart = new Chart(ctx, {
          type: 'bar',
          data: {
            labels: [{% if leaders %}{% for leader_context in leaders %}"{{ leader_context.name }}"{% endfor %}{% endif %}],
            datasets: [{
              label: 'Amount Raised',
              data: [{% if leaders %}{% for leader_context in leaders %}{{ leader_context.amount|notrail_floatformat:2|intcomma }}, {% endfor %}{% endif %}]
          }, {
            label: 'Amount Earned',
            data: [{% if leaders %}{% for leader_context in leaders %}{{ leader_context.amount|notrail_floatformat:2|intcomma }}, {% endfor %}{% endif %}]
          }]
          }
        });
    </script>
{% endblock %}
