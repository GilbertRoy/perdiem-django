{% load staticfiles %}
{% load humanize %}
{% load perdiem %}

    <div class="leaderboard">
        <h2>Investors</h2>
        <h4>Top earnings and investments</h4>
        <div class="break">
            <hr>
        </div>
        <canvas id="myChart"></canvas>
        <h2>Artists</h2>
        <h4>Top earnings and investments</h4>
        <div class="break">
            <hr>
        </div>
        <canvas id="myChart2"></canvas>
    </div>

{% block extrajs %}
    <script type="text/javascript" src="{% static "js/vendor/Chart.min.js" %}"></script>

    <script>
            var ctx = document.getElementById("myChart").getContext('2d');
            var myChart = new Chart(ctx, {
              type: 'bar',
              data: {
                labels: [{% if top_earned_investors %}{% for top_earned_investors_context in top_earned_investors %}"{{ top_earned_investors_context.name }}"{% if not forloop.last %},{% endif %}{% endfor %}{% endif %}],
                datasets: [{
                  label: 'Amount Invested',
                  data: [{% if top_invested %}{% for top_invested_context in top_raised %}{{ top_invested_context.amount|notrail_floatformat:2 }}{% if not forloop.last %},{% endif %}{% endfor %}{% endif %}],
                  backgroundColor: "#85929E"
              }, {
                label: 'Amount Earned',
                data: [{% if top_earned_investors %}{% for top_earned_investors_context in top_earned_investors %}{{ top_earned_investors_context.amount|notrail_floatformat:2 }}{% if not forloop.last %},{% endif %}{% endfor %}{% endif %}],
                backgroundColor: "#4cbd7e"
              }]
              }
            });
            var ctx = document.getElementById("myChart2").getContext('2d');
            var myChart = new Chart(ctx, {
              type: 'bar',
              data: {
                labels: [{% if top_earned_artists %}{% for top_earned_artists_context in top_earned_artists %}"{{ top_earned_artists_context.name }}"{% if not forloop.last %},{% endif %}{% endfor %}{% endif %}],
                datasets: [{
                  label: 'Amount Raised',
                  data: [{% if top_raised %}{% for top_raised_context in top_raised %}{{ top_raised_context.amount|notrail_floatformat:2 }}{% if not forloop.last %},{% endif %}{% endfor %}{% endif %}],
                  backgroundColor: "#85929E"
              }, {
                label: 'Amount Earned',
                data: [{% if top_earned_artists %}{% for top_earned_artists_context in top_earned_artists %}{{ top_earned_artists_context.amount|notrail_floatformat:2 }}{% if not forloop.last %},{% endif %}{% endfor %}{% endif %}],
                backgroundColor: "#4cbd7e"
              }]
              }
            });
    </script>
{% endblock %}
