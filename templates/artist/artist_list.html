{% extends "base.html" %}
{% load staticfiles %}

{% block extrastyle %}
    <link rel="stylesheet" href="{% static "css/artist/artist_list.css" %}" type="text/css" charset="utf-8" />
{% endblock %}

{% block content %}
    <h1>ARTISTS</h1>
    <div class="break">
        <hr>
    </div>
    Genres:
    <ul class="dropdown menu" data-dropdown-menu>
        <li>
            <a href="#">{{ active_genre }}</a>
            <ul class="menu">
                {% if active_genre != 'All' %}
                    <li><a href="?genre=All">All</a></li>
                {% endif %}
                {% for genre in genres %}
                    {% if genre != active_genre %}
                        <li><a href="?genre={{ genre|urlencode }}">{{ genre }}</a></li>
                    {% endif %}
                {% endfor %}
            </ul>
        </li>
    </ul>
    Sort by:
    <div class="small button-group">
        <a href="?sort=recent" class="button">Recently Added</a>
        <a href="?sort=funded" class="button">% Funded</a>
        <button type="button" id="location" class="button">Location</button>
    </div>
    <p class="getting-location">Getting your location...</p>
    <div class="row small-up-1 medium-up-2 large-up-4 artistlist">
        {% for artist in artists %}
            <div class="column">
                <a href="{% url 'artist' slug=artist.slug %}">
                    <img src="{{ artist.photo.img.url }}" />
                    <br />{{ artist.name }}
                </a>
                {% if order_by == 'genre' %}
                    <p>Genre: {{ artist.genre }}</p>
                {% elif order_by == 'funded' %}
                    <p>% Funded: {{ artist.funded }}</p>
                {% elif order_by == 'location' %}
                    <p>Location: {{ artist.location }}</p>
                {% endif %}
            </div>
        {% endfor %}
    </div>
    <div class="break">
        <hr>
    </div>
{% endblock %}

{% block extrajs %}
    <script type="text/javascript" src="{% static "js/artist/artist-list.js" %}"></script>
{% endblock %}
